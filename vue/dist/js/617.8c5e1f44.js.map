{"version":3,"file":"js/617.8c5e1f44.js","mappings":"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","sources":["webpack://vue/./src/views/front/NewsDetail.vue","webpack://vue/./src/components/Comment.vue","webpack://vue/src/components/Comment.vue","webpack://vue/./src/components/Comment.vue?e8d7","webpack://vue/./src/components/Comment.vue?9aa4","webpack://vue/src/views/front/NewsDetail.vue","webpack://vue/./src/views/front/NewsDetail.vue?8528","webpack://vue/./src/views/front/NewsDetail.vue?dc8a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"width\":\"60%\",\"margin\":\"10px auto\"}},[_c('div',{staticClass:\"card\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('div',{staticStyle:{\"font-size\":\"24px\",\"font-weight\":\"bold\",\"text-align\":\"center\",\"margin-bottom\":\"10px\"}},[_vm._v(_vm._s(_vm.news.title)+\" \")]),_c('div',{staticStyle:{\"text-align\":\"center\",\"color\":\"#888\",\"margin-bottom\":\"20px\"}},[_c('span',[_vm._v(\"发布时间：\"+_vm._s(_vm.news.time))]),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\"浏览量：\"+_vm._s(_vm.news.readCount))])]),_c('div',{staticClass:\"w-e-text\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.news.content)}})])]),_c('div',{staticClass:\"card\"},[_c('Comment',{attrs:{\"fid\":_vm.id,\"module\":\"news\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"20px\",\"font-size\":\"22px\",\"font-weight\":\"bold\"}},[_vm._v(\"评论 \"+_vm._s(_vm.commentCount))]),_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入评论\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"5px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addComment(null)}}},[_vm._v(\"评论\")])],1)],1),_c('div',[_vm._l((_vm.commentList),function(item){return _c('div',{key:item.id,staticStyle:{\"margin-bottom\":\"20px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"margin-bottom\":\"20px\"}},[_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"border-radius\":\"50%\"},attrs:{\"src\":item.avatar,\"alt\":\"\"}}),_c('div',{staticStyle:{\"padding-left\":\"15px\",\"flex\":\"1\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"10px\",\"color\":\"#666\"}},[_vm._v(_vm._s(item.userName))]),_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[_vm._v(_vm._s(item.content))]),_c('div',{staticStyle:{\"color\":\"#666\",\"font-size\":\"13px\",\"margin-bottom\":\"5px\"}},[_c('span',[_vm._v(_vm._s(item.time))]),_c('span',{class:{'comment-active' : item.showReply},staticStyle:{\"margin\":\"0 20px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.handleShowReply(item)}}},[_c('i',{staticClass:\"el-icon-s-comment\"}),_vm._v(\"回复\")]),(item.userId === _vm.user.id)?_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.delComment(item.id)}}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"删除\")]):_vm._e()]),(item.showReply)?_c('div',[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入回复\"},model:{value:(item.replyContent),callback:function ($$v) {_vm.$set(item, \"replyContent\", $$v)},expression:\"item.replyContent\"}}),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"5px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addComment(item)}}},[_vm._v(\"回复\")])],1)],1):_vm._e()])]),(item.children)?_c('div',{staticStyle:{\"padding-left\":\"65px\"}},_vm._l((item.children),function(sub){return _c('div',{staticStyle:{\"display\":\"flex\",\"margin-bottom\":\"20px\"}},[_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"border-radius\":\"50%\"},attrs:{\"src\":sub.avatar,\"alt\":\"\"}}),_c('div',{staticStyle:{\"padding-left\":\"15px\",\"flex\":\"1\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"10px\",\"color\":\"#666\"}},[_vm._v(_vm._s(sub.userName)+\" \"),(sub.parentUserName !== item.userName)?_c('span',[_vm._v(\"回复：\"+_vm._s(sub.parentUserName))]):_vm._e()]),_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[_vm._v(_vm._s(sub.content))]),_c('div',{staticStyle:{\"color\":\"#666\",\"font-size\":\"13px\",\"margin-bottom\":\"5px\"}},[_c('span',[_vm._v(_vm._s(sub.time))]),_c('span',{class:{'comment-active' : sub.showReply},staticStyle:{\"margin\":\"0 20px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.handleShowReply(sub)}}},[_c('i',{staticClass:\"el-icon-s-comment\"}),_vm._v(\"回复\")]),(sub.userId === _vm.user.id)?_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.delComment(sub.id)}}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"删除\")]):_vm._e()]),(sub.showReply)?_c('div',[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入回复\"},model:{value:(sub.replyContent),callback:function ($$v) {_vm.$set(sub, \"replyContent\", $$v)},expression:\"sub.replyContent\"}}),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"5px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addComment(sub)}}},[_vm._v(\"回复\")])],1)],1):_vm._e()])])}),0):_vm._e()])}),(_vm.total > _vm.pageSize)?_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-pagination',{attrs:{\"small\":\"\",\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[5, 10, 20],\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div style=\"margin-bottom: 20px; font-size: 22px; font-weight: bold\">评论 {{ commentCount }}</div>\r\n        <div style=\"margin-bottom: 20px\">\r\n            <el-input type=\"textarea\" placeholder=\"请输入评论\" v-model=\"content\"></el-input>\r\n            <div style=\"text-align: right; margin-top: 5px\"><el-button type=\"primary\" @click=\"addComment(null)\">评论</el-button></div>\r\n        </div>\r\n\r\n        <div>\r\n            <div v-for=\"item in commentList\" :key=\"item.id\" style=\"margin-bottom: 20px\">\r\n                <!-- 一级评论-->\r\n                <div style=\"display: flex; margin-bottom: 20px\">\r\n                    <img :src=\"item.avatar\" alt=\"\" style=\"width: 50px; height: 50px; border-radius: 50%\">\r\n                    <div style=\"padding-left: 15px; flex: 1\">\r\n                        <div style=\"margin-bottom: 10px; color: #666\">{{ item.userName }}</div>\r\n                        <div style=\"margin-bottom: 5px\">{{ item.content }}</div>\r\n                        <div style=\"color: #666; font-size: 13px; margin-bottom: 5px\">\r\n                            <span>{{ item.time }}</span>\r\n                            <span @click=\"handleShowReply(item)\" style=\"margin: 0 20px; cursor: pointer\"\r\n                                  :class=\"{'comment-active' : item.showReply}\"><i class=\"el-icon-s-comment\"></i>回复</span>\r\n                            <span @click=\"delComment(item.id)\" v-if=\"item.userId === user.id\" style=\"cursor: pointer\"><i class=\"el-icon-delete\"></i>删除</span>\r\n                        </div>\r\n                        <div v-if=\"item.showReply\">\r\n                            <el-input type=\"textarea\" placeholder=\"请输入回复\" v-model=\"item.replyContent\"></el-input>\r\n                            <div style=\"text-align: right; margin-top: 5px\"><el-button type=\"primary\" @click=\"addComment(item)\">回复</el-button></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- 二级评论-->\r\n                <div v-if=\"item.children\" style=\"padding-left: 65px\">\r\n                    <div v-for=\"sub in item.children\" style=\"display: flex; margin-bottom: 20px\">\r\n                        <img :src=\"sub.avatar\" alt=\"\" style=\"width: 50px; height: 50px; border-radius: 50%\">\r\n                        <div style=\"padding-left: 15px; flex: 1\">\r\n                            <div style=\"margin-bottom: 10px; color: #666\">{{ sub.userName }} <span v-if=\"sub.parentUserName !== item.userName\">回复：{{ sub.parentUserName }}</span></div>\r\n                            <div style=\"margin-bottom: 5px\">{{ sub.content }}</div>\r\n                            <div style=\"color: #666; font-size: 13px; margin-bottom: 5px\">\r\n                                <span>{{ sub.time }}</span>\r\n                                <span @click=\"handleShowReply(sub)\" style=\"margin: 0 20px; cursor: pointer\"\r\n                                      :class=\"{'comment-active' : sub.showReply}\"><i class=\"el-icon-s-comment\"></i>回复</span>\r\n                                <span @click=\"delComment(sub.id)\" v-if=\"sub.userId === user.id\" style=\"cursor: pointer\"><i class=\"el-icon-delete\"></i>删除</span>\r\n                            </div>\r\n                            <div v-if=\"sub.showReply\">\r\n                                <el-input type=\"textarea\" placeholder=\"请输入回复\" v-model=\"sub.replyContent\"></el-input>\r\n                                <div style=\"text-align: right; margin-top: 5px\"><el-button type=\"primary\" @click=\"addComment(sub)\">回复</el-button></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div style=\"margin-top: 10px\" v-if=\"total > pageSize\">\r\n                <el-pagination\r\n                        small\r\n                        background\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page=\"pageNum\"\r\n                        :page-sizes=\"[5, 10, 20]\"\r\n                        :page-size=\"pageSize\"\r\n                        layout=\"total, prev, pager, next\"\r\n                        :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"CommentComponent\",\r\n    props: {\r\n        fid: null,\r\n        module: null\r\n    },\r\n    data() {\r\n        return {\r\n            user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\r\n            commentCount: 0,\r\n            content: '',\r\n            commentList: [],\r\n            pageNum: 1,\r\n            pageSize: 5,\r\n            total: 0\r\n        }\r\n    },\r\n    created() {\r\n        this.loadComment()\r\n    },\r\n    methods: {\r\n        handleShowReply(comment) {\r\n            this.$set(comment, 'showReply', !comment.showReply)\r\n        },\r\n        delComment(commentId) {   // 单个删除\r\n            this.$confirm('您确定删除吗？', '确认删除', {type: \"warning\"}).then(response => {\r\n                this.$request.delete('/comment/delete/' + commentId).then(res => {\r\n                    if (res.code === '200') {   // 表示操作成功\r\n                        this.$message.success('操作成功')\r\n                        this.loadComment()\r\n                    } else {\r\n                        this.$message.error(res.msg)  // 弹出错误的信息\r\n                    }\r\n                })\r\n            }).catch(() => {\r\n            })\r\n        },\r\n        loadComment() {\r\n            this.$request.get('/comment/selectTree/' + this.fid + '/' + this.module, {\r\n                params: {\r\n                    pageNum: this.pageNum,\r\n                    pageSize: this.pageSize,\r\n                }\r\n            }).then(res => {\r\n                this.commentList = res.data?.list || []\r\n                this.total = res.data?.total || 0\r\n            })\r\n\r\n            this.$request.get('/comment/selectCount/' + this.fid + '/' + this.module).then(res => {\r\n                this.commentCount = res.data || 0\r\n            })\r\n        },\r\n        addComment(comment) {  //  comment 有值表示这是回复\r\n            let data = { fid: this.fid, userId: this.user.id, module: this.module, content: this.content }\r\n            if (comment) {\r\n                data.content = comment.replyContent\r\n                data.pid = comment.id\r\n            }\r\n            if (!data.content) {\r\n                this.$message.warning('请输入内容!')\r\n                return\r\n            }\r\n            this.$request.post('/comment/add', data).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success('操作成功')\r\n                    this.content = ''\r\n                    this.loadComment()\r\n                } else {\r\n                    this.$message.error(res.msg)\r\n                }\r\n            })\r\n        },\r\n        handleCurrentChange(pageNum) {\r\n            this.pageNum = pageNum\r\n            this.loadComment()\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=31877cfe&scoped=true\"\nimport script from \"./Comment.vue?vue&type=script&lang=js\"\nexport * from \"./Comment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31877cfe\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div style=\"width: 60%; margin: 10px auto\">\r\n        <div class=\"card\" style=\"margin-bottom: 10px\">\r\n            <div style=\"font-size: 24px; font-weight: bold; text-align: center; margin-bottom: 10px\">{{ news.title }} </div>\r\n            <div style=\"text-align: center; color: #888; margin-bottom: 20px\">\r\n                <span>发布时间：{{ news.time }}</span>\r\n                <span style=\"margin-left: 20px\">浏览量：{{ news.readCount }}</span>\r\n            </div>\r\n            <div class=\"w-e-text\">\r\n                <div v-html=\"news.content\"></div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"card\">\r\n            <Comment :fid=\"id\" module=\"news\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport E from 'wangeditor'\r\nimport Comment from \"@/components/Comment\";\r\nexport default {\r\n    name: \"NewsDetail\",\r\n    //引用的时候需要在这里配置才能够生效\r\n    components: {Comment},\r\n    data() {\r\n        return {\r\n            id: this.$route.query.id,\r\n            news: {}\r\n        }\r\n    },\r\n    created() {\r\n        this.$request.put('/news/updateCount/' + this.id).then(() => {\r\n            this.load()\r\n        })\r\n    },\r\n    methods: {\r\n        load() {\r\n            this.$request.get('/news/selectById/' + this.id).then(res => {\r\n                this.news = res.data || {}\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewsDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewsDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NewsDetail.vue?vue&type=template&id=477b2bd6&scoped=true\"\nimport script from \"./NewsDetail.vue?vue&type=script&lang=js\"\nexport * from \"./NewsDetail.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"477b2bd6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","staticClass","_v","_s","news","title","time","readCount","domProps","content","attrs","id","staticRenderFns","commentCount","model","value","callback","$$v","expression","on","$event","addComment","_l","commentList","item","key","avatar","userName","class","showReply","handleShowReply","userId","user","delComment","_e","replyContent","$set","children","sub","parentUserName","total","pageSize","pageNum","handleCurrentChange","name","props","fid","module","data","JSON","parse","localStorage","getItem","created","loadComment","methods","comment","commentId","$confirm","type","then","response","$request","delete","res","code","$message","success","error","msg","catch","get","params","list","pid","post","warning","component","components","Comment","$route","query","put","load"],"sourceRoot":""}